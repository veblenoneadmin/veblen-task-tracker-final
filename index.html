<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VEBLEN Task & Time Tracker</title>
    <link rel="icon" type="image/png" href="https://i.ibb.co/50CN8P5/fe71a9da-24a6-46cf-8eda-df73bff35fc8.png">
    <link rel="apple-touch-icon" href="https://i.ibb.co/50CN8P5/fe71a9da-24a6-46cf-8eda-df73bff35fc8.png">
    <link rel="stylesheet" href="style.css">
    <style>
        /* Brisbane Clock Styles */
        .brisbane-clock-section {
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.15) 0%, rgba(118, 75, 162, 0.15) 100%);
            border: 2px solid rgba(102, 126, 234, 0.3);
            border-radius: var(--radius-xl);
            padding: var(--spacing-xl);
            margin: var(--spacing-xl) 0;
            box-shadow: 0 0 20px rgba(102, 126, 234, 0.2);
        }

        .brisbane-clock-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: var(--spacing-lg);
            align-items: start;
        }

        .local-time-display, .brisbane-time-display, .shift-reset-display {
            background: rgba(0, 0, 0, 0.2);
            border-radius: var(--radius-lg);
            padding: var(--spacing-lg);
            text-align: center;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .time-zone-label, .reset-label {
            font-size: 0.875rem;
            color: var(--text-secondary);
            margin-bottom: var(--spacing-sm);
            text-transform: uppercase;
            letter-spacing: 0.1em;
            font-weight: 600;
        }

        .current-time {
            font-size: 2.5rem;
            font-weight: 700;
            font-family: 'Courier New', monospace;
            margin-bottom: var(--spacing-sm);
            background: var(--primary-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .local-time {
            background: var(--success-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .current-date {
            font-size: 0.875rem;
            color: var(--text-secondary);
            font-weight: 500;
        }

        .reset-countdown {
            font-size: 2rem;
            font-weight: 700;
            font-family: 'Courier New', monospace;
            color: #f6ad55;
            margin-bottom: var(--spacing-sm);
        }

        .reset-time, .work-start-notice {
            font-size: 0.75rem;
            color: var(--text-secondary);
            font-weight: 500;
            margin-top: var(--spacing-xs);
        }

        .work-start-notice {
            background: rgba(252, 129, 129, 0.2);
            padding: var(--spacing-sm);
            border-radius: var(--radius-sm);
            border: 1px solid rgba(252, 129, 129, 0.3);
        }

        /* Real-time Work Clock Styles */
        .work-clock-display, .break-clock-display {
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.2) 0%, rgba(118, 75, 162, 0.2) 100%);
            border: 2px solid rgba(102, 126, 234, 0.4);
            border-radius: var(--radius-xl);
            padding: var(--spacing-xl);
            margin-bottom: var(--spacing-xl);
            text-align: center;
            position: relative;
            overflow: hidden;
            box-shadow: 0 0 30px rgba(102, 126, 234, 0.3);
            animation: pulseGlow 3s ease-in-out infinite;
        }

        .break-clock-display {
            background: linear-gradient(135deg, rgba(250, 112, 154, 0.2) 0%, rgba(254, 225, 64, 0.2) 100%);
            border-color: rgba(250, 112, 154, 0.4);
            box-shadow: 0 0 30px rgba(250, 112, 154, 0.3);
            animation: pulseGlowOrange 3s ease-in-out infinite;
        }

        @keyframes pulseGlow {
            0%, 100% { 
                box-shadow: 0 0 30px rgba(102, 126, 234, 0.3);
                transform: scale(1);
            }
            50% { 
                box-shadow: 0 0 40px rgba(102, 126, 234, 0.5);
                transform: scale(1.02);
            }
        }

        @keyframes pulseGlowOrange {
            0%, 100% { 
                box-shadow: 0 0 30px rgba(250, 112, 154, 0.3);
                transform: scale(1);
            }
            50% { 
                box-shadow: 0 0 40px rgba(250, 112, 154, 0.5);
                transform: scale(1.02);
            }
        }

        .clock-info h3 {
            font-size: 1.25rem;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: var(--spacing-md);
            text-transform: uppercase;
            letter-spacing: 0.1em;
        }

        .work-timer, .break-timer {
            font-size: 4rem;
            font-weight: 700;
            background: var(--primary-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            font-variant-numeric: tabular-nums;
            filter: drop-shadow(0 4px 8px rgba(102, 126, 234, 0.4));
            margin-bottom: var(--spacing-md);
            font-family: 'Courier New', monospace;
        }

        .break-timer {
            background: var(--warning-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            filter: drop-shadow(0 4px 8px rgba(250, 112, 154, 0.4));
        }

        .work-status, .break-status {
            font-size: 1rem;
            color: var(--text-secondary);
            font-weight: 500;
        }

        /* Shift Progress Styles */
        .shift-progress {
            margin: var(--spacing-lg) 0;
            padding: var(--spacing-lg);
            background: rgba(0, 0, 0, 0.2);
            border-radius: var(--radius-lg);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .shift-info {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: var(--spacing-md);
        }

        .shift-label {
            font-size: 1rem;
            color: var(--text-secondary);
            font-weight: 500;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        .shift-time {
            font-size: 1.25rem;
            font-weight: 700;
            background: var(--success-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            font-family: 'Courier New', monospace;
        }

        .shift-bar-container {
            height: 12px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: var(--radius-full);
            overflow: hidden;
            margin-bottom: var(--spacing-sm);
            box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.3);
        }

        .shift-bar {
            height: 100%;
            background: var(--success-gradient);
            transition: width 0.5s ease;
            position: relative;
            min-width: 2px;
            box-shadow: 0 0 10px rgba(72, 187, 120, 0.5);
        }

        .shift-bar.overtime {
            background: var(--warning-gradient);
            box-shadow: 0 0 10px rgba(250, 112, 154, 0.5);
        }

        .shift-bar.complete {
            background: var(--primary-gradient);
            box-shadow: 0 0 15px rgba(102, 126, 234, 0.7);
            animation: celebrate 2s ease-in-out infinite;
        }

        @keyframes celebrate {
            0%, 100% { box-shadow: 0 0 15px rgba(102, 126, 234, 0.7); }
            50% { box-shadow: 0 0 25px rgba(102, 126, 234, 0.9); }
        }

        .shift-target {
            text-align: center;
            font-size: 0.875rem;
            color: var(--text-secondary);
            font-weight: 500;
        }

        .shift-target.complete {
            color: var(--primary-color);
            font-weight: 700;
            font-size: 1rem;
        }

        .shift-target.overtime {
            color: #f6ad55;
            font-weight: 700;
        }

        /* Break Info Styles */
        .break-info {
            margin: var(--spacing-lg) 0;
            padding: var(--spacing-lg);
            background: rgba(0, 0, 0, 0.2);
            border-radius: var(--radius-lg);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .break-info p {
            margin: var(--spacing-sm) 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .total-worked span, .shift-remaining span {
            font-weight: 700;
            font-family: 'Courier New', monospace;
            font-size: 1.1rem;
        }

        .total-worked span {
            background: var(--success-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .shift-remaining span {
            background: var(--warning-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        /* Modal Styles for Task Selection */
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(5px);
        }

        .modal-content {
            background: var(--surface);
            margin: 5% auto;
            padding: 0;
            border-radius: var(--radius-xl);
            width: 90%;
            max-width: 600px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
            border: 2px solid var(--border);
        }

        .modal-header {
            padding: var(--spacing-xl);
            border-bottom: 1px solid var(--border);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .modal-header h2 {
            margin: 0;
            color: var(--text-primary);
        }

        .close {
            color: var(--text-secondary);
            font-size: 2rem;
            font-weight: bold;
            cursor: pointer;
            line-height: 1;
        }

        .close:hover {
            color: var(--text-primary);
        }

        .modal-body {
            padding: var(--spacing-xl);
        }

        .modal-footer {
            display: flex;
            gap: var(--spacing-md);
            justify-content: flex-end;
            margin-top: var(--spacing-xl);
        }

        .task-selection-list {
            max-height: 400px;
            overflow-y: auto;
            margin-bottom: var(--spacing-lg);
        }

        .task-selection-item {
            background: rgba(0, 0, 0, 0.2);
            border: 2px solid transparent;
            border-radius: var(--radius-md);
            padding: var(--spacing-lg);
            margin-bottom: var(--spacing-md);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .task-selection-item:hover {
            border-color: var(--primary-color);
            background: rgba(102, 126, 234, 0.1);
        }

        .task-selection-item.selected {
            border-color: var(--primary-color);
            background: rgba(102, 126, 234, 0.2);
            box-shadow: 0 0 20px rgba(102, 126, 234, 0.3);
        }

        .task-selection-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: var(--spacing-sm);
        }

        .task-selection-title {
            font-weight: 600;
            color: var(--text-primary);
            font-size: 1.1rem;
        }

        .task-selection-company {
            font-size: 0.875rem;
            color: var(--text-secondary);
            background: rgba(0, 0, 0, 0.3);
            padding: var(--spacing-xs) var(--spacing-sm);
            border-radius: var(--radius-sm);
        }

        .task-selection-meta {
            display: flex;
            gap: var(--spacing-md);
            align-items: center;
            margin-bottom: var(--spacing-sm);
        }

        .task-selection-status {
            font-size: 0.75rem;
            padding: var(--spacing-xs) var(--spacing-sm);
            border-radius: var(--radius-sm);
            font-weight: 600;
            text-transform: uppercase;
        }

        .task-selection-progress {
            font-size: 0.875rem;
            color: var(--text-secondary);
            font-weight: 600;
        }

        .task-selection-time {
            font-size: 0.875rem;
            color: var(--text-secondary);
            font-family: 'Courier New', monospace;
        }

        /* Active Task Display Styles */
        .active-task-card {
            background: linear-gradient(135deg, rgba(72, 187, 120, 0.2) 0%, rgba(56, 178, 172, 0.2) 100%);
            border: 2px solid rgba(72, 187, 120, 0.4);
            border-radius: var(--radius-lg);
            padding: var(--spacing-lg);
            margin-bottom: var(--spacing-lg);
        }

        .active-task-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: var(--spacing-md);
        }

        .active-task-header h4 {
            margin: 0;
            color: var(--text-primary);
            font-size: 1.1rem;
        }

        .task-company-badge {
            background: rgba(72, 187, 120, 0.3);
            color: var(--text-primary);
            padding: var(--spacing-xs) var(--spacing-sm);
            border-radius: var(--radius-sm);
            font-size: 0.75rem;
            font-weight: 600;
        }

        .active-task-name {
            font-size: 1.25rem;
            font-weight: 700;
            color: var(--text-primary);
            margin-bottom: var(--spacing-md);
        }

        .active-task-meta {
            display: flex;
            gap: var(--spacing-md);
            margin-bottom: var(--spacing-md);
        }

        .active-task-time {
            background: rgba(0, 0, 0, 0.2);
            border-radius: var(--radius-sm);
            padding: var(--spacing-md);
        }

        .time-today, .time-session {
            display: flex;
            justify-content: space-between;
            margin-bottom: var(--spacing-xs);
            font-family: 'Courier New', monospace;
        }

        /* Responsive design for clock */
        @media (max-width: 768px) {
            .brisbane-clock-container {
                grid-template-columns: 1fr;
            }
            
            .current-time {
                font-size: 2rem;
            }
            
            .work-timer, .break-timer {
                font-size: 2.5rem;
            }
            
            .clock-info h3 {
                font-size: 1rem;
            }
            
            .modal-content {
                width: 95%;
                margin: 2% auto;
            }
        }

        /* Status indicator styles */
        .status-working {
            color: #48bb78;
            font-weight: 600;
        }

        .status-break {
            color: #f6ad55;
            font-weight: 600;
        }

        .status-ended {
            color: #fc8181;
            font-weight: 600;
        }

        .status-ready {
            color: #38b2ac;
            font-weight: 600;
        }

        .time-clock-status {
            text-align: center;
            padding: var(--spacing-lg);
            background: var(--surface);
            border-radius: var(--radius-md);
            border: 1px solid var(--border);
            box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.3);
            font-weight: 500;
        }

        /* Task Editor Modal Styles */
        .task-id-inputs {
            background: rgba(0, 0, 0, 0.2);
            border-radius: var(--radius-md);
            padding: var(--spacing-lg);
            margin-bottom: var(--spacing-lg);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .task-id-inputs .form-group {
            margin-bottom: var(--spacing-md);
        }

        .task-id-inputs .form-group:last-of-type {
            margin-bottom: var(--spacing-lg);
        }

        .task-editor-form {
            background: rgba(0, 0, 0, 0.2);
            border-radius: var(--radius-md);
            padding: var(--spacing-lg);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .task-info-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: var(--spacing-lg);
            padding-bottom: var(--spacing-md);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .task-info-header h3 {
            margin: 0;
            color: var(--text-primary);
            font-size: 1.25rem;
        }

        .progress-input-container {
            display: flex;
            align-items: center;
            gap: var(--spacing-md);
            margin-bottom: var(--spacing-sm);
        }

        .progress-input-container input[type="range"] {
            flex: 1;
            height: 8px;
            border-radius: var(--radius-full);
            background: rgba(0, 0, 0, 0.3);
            outline: none;
            -webkit-appearance: none;
        }

        .progress-input-container input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: var(--primary-color);
            cursor: pointer;
            box-shadow: 0 0 10px rgba(102, 126, 234, 0.5);
        }

        .progress-input-container input[type="range"]::-moz-range-thumb {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: var(--primary-color);
            cursor: pointer;
            border: none;
            box-shadow: 0 0 10px rgba(102, 126, 234, 0.5);
        }

        #progressDisplay {
            font-weight: 700;
            color: var(--primary-color);
            font-size: 1.1rem;
            min-width: 60px;
            text-align: center;
        }

        .task-meta-info {
            margin-top: var(--spacing-lg);
            padding-top: var(--spacing-md);
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }

        /* Button disabled styles */
        .btn-disabled {
            opacity: 0.4 !important;
            pointer-events: none !important;
            filter: grayscale(0.8) !important;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header class="header">
            <h1><img src="https://i.ibb.co/50CN8P5/fe71a9da-24a6-46cf-8eda-df73bff35fc8.png" alt="VEBLEN" class="logo"> Task & Time Tracker</h1>
            <div class="employee-selector">
                <label for="employeeSelect">Employee:</label>
                <select id="employeeSelect">
                    <option value="">Select Employee</option>
                    <option value="Tony Herrera">Tony Herrera</option>
                    <option value="Alex">Alex</option>
                    <option value="Ridho">Ridho</option>
                    <option value="Jevahn">Jevahn</option>
                    <option value="Risna">Risna</option>
                    <option value="Pran Setiawan">Pran Setiawan</option>
                    <option value="Wayan Arfian (Konsep Kreatif)">Wayan Arfian (Konsep Kreatif)</option>
                    <option value="Hanif (Konsep Kreatif)">Hanif (Konsep Kreatif)</option>
                    <option value="Eden">Eden</option>
                    <option value="Social Media Manager">Social Media Manager</option>
                    <option value="Zac Macanally">Zac Macanally</option>
                </select>
            </div>
        </header>

        <!-- Brisbane Clock will be inserted here by JavaScript -->

        <!-- Time Clock Section -->
        <section class="time-clock-section">
            <!-- Bypass Button -->
            <div class="bypass-container">
                <button class="bypass-btn" onclick="openPasswordModal()">
                    🔓 Bypass
                </button>
            </div>

            <h2>🕐 Time Clock</h2>
            
            <!-- Real-time Work Clock Display -->
            <div id="workClockDisplay" class="work-clock-display" style="display: none;">
                <div class="clock-info">
                    <h3>Currently Working</h3>
                    <div class="work-timer" id="workTimer">00:00:00</div>
                    <div class="shift-progress">
                        <div class="shift-info">
                            <span class="shift-label">Total Shift Time</span>
                            <span class="shift-time" id="totalShiftTime">00:00:00</span>
                        </div>
                        <div class="shift-bar-container">
                            <div class="shift-bar" id="shiftProgressBar"></div>
                        </div>
                        <div class="shift-target">
                            <span id="shiftStatus">0% of 8 hours completed</span>
                        </div>
                    </div>
                    <p class="work-status" id="workStatus">Started work at --:--</p>
                </div>
            </div>

            <!-- Break Clock Display -->
            <div id="breakClockDisplay" class="break-clock-display" style="display: none;">
                <div class="clock-info">
                    <h3>On Break</h3>
                    <div class="break-timer" id="breakTimer">00:00:00</div>
                    <div class="break-info">
                        <p class="total-worked">Total worked today: <span id="totalWorkedOnBreak">00:00:00</span></p>
                        <p class="shift-remaining">Remaining: <span id="shiftRemainingOnBreak">08:00:00</span></p>
                    </div>
                    <p class="break-status" id="breakStatus">Started break at --:--</p>
                </div>
            </div>
            
            <div class="time-clock-buttons">
                <button id="startWorkBtn" class="btn btn-success">🟢 START WORK</button>
                <button id="breakBtn" class="btn btn-warning">☕ BREAK</button>
                <button id="backToWorkBtn" class="btn btn-info">🔵 BACK TO WORK</button>
                <button id="endWorkBtn" class="btn btn-danger">🔴 END WORK</button>
            </div>
            <div id="timeClockStatus" class="time-clock-status"></div>
        </section>

        <!-- Active Task Display Section -->
        <section class="active-task-section" id="activeTaskSection" style="display: none;">
            <h2>🎯 Currently Working On</h2>
            <div id="activeTaskInfo">
                <!-- Active task info will be populated here by JavaScript -->
            </div>
        </section>

        <!-- Assigned Tasks Section -->
        <section id="assignedTasksSection">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: var(--spacing-lg);">
                <h2>📋 My Tasks Dashboard</h2>
                <button id="refreshTasksBtn" class="btn btn-secondary">
                    🔄 Refresh Tasks
                </button>
            </div>
            <p>Import tasks from Infinity to manage and sync your progress.</p>
            
            <div style="margin-bottom: var(--spacing-xl);">
                <button class="btn btn-primary" onclick="openTaskEditorModal()">
                    📥 Import Task from Infinity
                </button>
            </div>
            
            <div id="assignedTasksList" class="assigned-tasks-list">
                <p class="loading">Select an employee to view assigned tasks...</p>
            </div>
        </section>

        <!-- Task Intake Logger Section -->
        <section id="taskIntakeSection">
            <h2>📝 Task Intake Logger</h2>
            <p>Create new tasks and assign them to team members across different companies.</p>
            
            <form id="taskIntakeForm" class="task-intake-form">
                <div class="form-row">
                    <div class="form-group">
                        <label for="intakeEmployee">Employee *</label>
                        <select id="intakeEmployee" name="employee" required>
                            <option value="">Select Employee</option>
                            <option value="Tony Herrera">Tony Herrera</option>
                            <option value="Alex">Alex</option>
                            <option value="Social Media Manager">Social Media Manager</option>
                            <option value="Zac Macanally">Zac Macanally</option>
                            <option value="Ridho">Ridho</option>
                            <option value="Jevahn">Jevahn</option>
                            <option value="Risna">Risna</option>
                            <option value="Pran Setiawan">Pran Setiawan</option>
                            <option value="Wayan Arfian (Konsep Kreatif)">Wayan Arfian (Konsep Kreatif)</option>
                            <option value="Hanif (Konsep Kreatif)">Hanif (Konsep Kreatif)</option>
                            <option value="Eden">Eden</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="intakeCompany">Company *</label>
                        <select id="intakeCompany" name="company" required>
                            <option value="">Select Company</option>
                            <option value="CROWN REALITY">CROWN REALITY</option>
                            <option value="LCMB GROUP">LCMB GROUP</option>
                            <option value="NEWTECH TRAILERS">NEWTECH TRAILERS</option>
                            <option value="VEBLEN (Internal)">VEBLEN (Internal)</option>
                            <option value="FLECK GROUP">FLECK GROUP</option>
                        </select>
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="intakeTaskName">Task Name *</label>
                    <input type="text" id="intakeTaskName" name="taskName" placeholder="Enter task name" required>
                </div>
                
                <div class="form-group">
                    <label for="intakeDescription">Task Description</label>
                    <textarea id="intakeDescription" name="description" placeholder="Describe the task in detail" rows="4"></textarea>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="intakePriority">Priority</label>
                        <select id="intakePriority" name="priority">
                            <option value="Low">Low</option>
                            <option value="Medium" selected>Medium</option>
                            <option value="High">High</option>
                            <option value="Urgent">Urgent</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="intakeTaskType">Task Type</label>
                        <select id="intakeTaskType" name="taskType">
                            <option value="General Task" selected>General Task</option>
                            <option value="Development">Development</option>
                            <option value="Design">Design</option>
                            <option value="Research">Research</option>
                            <option value="Meeting">Meeting</option>
                            <option value="Documentation">Documentation</option>
                            <option value="Testing">Testing</option>
                            <option value="Bug Fix">Bug Fix</option>
                            <option value="Feature Request">Feature Request</option>
                        </select>
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="intakeDueDate">Due Date</label>
                        <input type="date" id="intakeDueDate" name="dueDate">
                    </div>
                    
                    <div class="form-group">
                        <label for="intakeEstimatedHours">Estimated Hours</label>
                        <input type="number" id="intakeEstimatedHours" name="estimatedHours" min="0" step="0.5" placeholder="0">
                    </div>
                </div>
                
                <!-- Task Image Upload -->
                <div class="form-group photo-upload-group">
                    <label for="taskImage">Task Image * <span class="required-indicator">●</span></label>
                    <input type="file" id="taskImage" name="taskImage" accept="image/*" required>
                    <small class="form-help">
                        📸 Upload an image for the task (Required) - Accepted: JPEG, PNG, GIF, WebP
                    </small>
                    <div id="taskImagePreview" class="photo-preview"></div>
                </div>
                
                <div class="form-group">
                    <label for="intakeNotes">Additional Notes</label>
                    <textarea id="intakeNotes" name="notes" placeholder="Any additional information" rows="3"></textarea>
                </div>
                
                <div class="form-actions">
                    <button type="submit" class="btn btn-primary" id="submitTaskIntake">
                        <span class="btn-icon">📝</span>
                        Create Task
                    </button>
                    <button type="button" class="btn btn-secondary" id="clearTaskIntake">
                        <span class="btn-icon">🗑️</span>
                        Clear Form
                    </button>
                </div>
            </form>
            
            <!-- Success/Error Messages -->
            <div id="taskIntakeMessages" class="message-container hidden"></div>
        </section>

        <!-- Report Logger Section -->
        <section id="reportLoggerSection">
            <h2>📊 Daily Report Logger</h2>
            <p>Submit your daily work report with photo documentation and project details.</p>
            
            <form id="reportLoggerForm" class="report-logger-form">
                <div class="form-row">
                    <div class="form-group">
                        <label for="reportEmployee">Employee Name *</label>
                        <select id="reportEmployee" name="name" required>
                            <option value="">Select Employee</option>
                            <option value="Tony Herrera">Tony Herrera</option>
                            <option value="Alex">Alex</option>
                            <option value="Social Media Manager">Social Media Manager</option>
                            <option value="Zac Macanally">Zac Macanally</option>
                            <option value="Ridho">Ridho</option>
                            <option value="Jevahn">Jevahn</option>
                            <option value="Risna">Risna</option>
                            <option value="Pran Setiawan">Pran Setiawan</option>
                            <option value="Wayan Arfian (Konsep Kreatif)">Wayan Arfian (Konsep Kreatif)</option>
                            <option value="Hanif (Konsep Kreatif)">Hanif (Konsep Kreatif)</option>
                            <option value="Eden">Eden</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="reportCompanySelect">Company *</label>
                        <select id="reportCompanySelect" name="reportCompany" required>
                            <option value="">Select Company</option>
                            <option value="CROWN REALITY">CROWN REALITY</option>
                            <option value="LCMB GROUP">LCMB GROUP</option>
                            <option value="NEWTECH TRAILERS">NEWTECH TRAILERS</option>
                            <option value="VEBLEN (Internal)">VEBLEN (Internal)</option>
                            <option value="FLECK GROUP">FLECK GROUP</option>
                        </select>
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="reportDate">Date *</label>
                        <input type="date" id="reportDate" name="reportDate" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="reportProjectName">Project Name *</label>
                        <input type="text" id="reportProjectName" name="projectName" placeholder="Enter project name" required>
                    </div>
                </div>
                
                <!-- Photo Upload - REQUIRED -->
                <div class="form-group photo-upload-group">
                    <label for="reportPhoto">Daily Report Photo * <span class="required-indicator">●</span></label>
                    <input type="file" id="reportPhoto" name="reportPhoto" accept="image/*" required>
                    <small class="form-help">
                        📸 Upload a photo of your work progress (Required) - Accepted: JPEG, PNG, GIF, WebP
                    </small>
                    <div id="reportPhotoPreview" class="photo-preview"></div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="reportRevisions">Number of Revisions</label>
                        <input type="number" id="reportRevisions" name="numRevisions" min="0" placeholder="0" value="0">
                    </div>
                    
                    <div class="form-group">
                        <label for="reportTimeSpent">Total Time Spent on Project</label>
                        <input type="text" id="reportTimeSpent" name="totalTimeSpent" placeholder="e.g., 4 hours, 2.5 hours" value="0 hours">
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="reportNotes">Notes</label>
                    <textarea id="reportNotes" name="reportNotes" rows="4" placeholder="Describe your work progress, achievements, and any important details..."></textarea>
                </div>
                
                <div class="form-group">
                    <label for="reportLinks">Links</label>
                    <textarea id="reportLinks" name="reportLinks" rows="3" placeholder="Add any relevant links (one per line)&#10;https://example.com/project&#10;https://figma.com/design"></textarea>
                </div>
                
                <div class="form-group">
                    <label for="reportFeedback">Feedback or Requests</label>
                    <textarea id="reportFeedback" name="feedbackRequests" rows="3" placeholder="Any feedback for the team or special requests..."></textarea>
                </div>
                
                <div class="form-actions">
                    <button type="submit" class="btn btn-primary" id="submitReport">
                        <span class="btn-icon">📊</span>
                        Submit Daily Report
                    </button>
                    <button type="button" class="btn btn-secondary" id="clearReport">
                        <span class="btn-icon">🗑️</span>
                        Clear Form
                    </button>
                </div>
            </form>
            
            <!-- Success/Error Messages -->
            <div id="reportLoggerMessages" class="message-container hidden"></div>
        </section>
    </div>

    <!-- Toast Notification Container -->
    <div id="toastContainer" class="toast-container"></div>

    <!-- Load JavaScript -->
    <script src="script.js"></script>
    
    <!-- Error Handling and Health Check -->
    <script>
        // Add error boundary
        window.addEventListener('error', function(e) {
            console.error('Global error:', e.error);
            // Show user-friendly error message
            const errorDiv = document.createElement('div');
            errorDiv.className = 'error-message';
            errorDiv.textContent = 'Connection error. Please refresh the page.';
            errorDiv.style.cssText = 'position: fixed; top: 20px; right: 20px; background: #ff4444; color: white; padding: 10px 20px; border-radius: 5px; z-index: 9999;';
            document.body.appendChild(errorDiv);
            setTimeout(() => errorDiv.remove(), 5000);
        });

        // Check API health on load
        fetch('/api/health')
            .then(res => res.json())
            .then(data => console.log('API Health:', data))
            .catch(err => console.error('API not responding:', err));
    </script>

    <!-- Password Modal -->
    <div id="passwordModal" class="password-modal">
        <div class="password-modal-content">
            <h3>🔐 Admin Bypass</h3>
            <div class="password-input-group">
                <input type="password" 
                       id="passwordInput" 
                       class="password-input" 
                       placeholder="Enter password"
                       maxlength="20">
                <div id="passwordError" class="password-error">
                    ❌ Incorrect password. Please try again.
                </div>
                <div id="passwordSuccess" class="password-success">
                    ✅ Access granted! Resetting shift...
                </div>
            </div>
            <div class="password-buttons">
                <button class="password-btn password-btn-cancel" onclick="closePasswordModal()">
                    Cancel
                </button>
                <button class="password-btn password-btn-confirm" onclick="validatePassword()">
                    Reset Shift
                </button>
            </div>
        </div>
    </div>

    <!-- Toast Notification Container -->
    <div id="toastContainer" class="toast-container"></div>
</body>
</html>
